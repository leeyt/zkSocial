<?component
	name="MenuItem"
	class="org.zkoss.demo.zksocial.composite.MenuItem" ?>
<?component
	name="Contact"
	class="org.zkoss.demo.zksocial.composite.Contact" ?>

<zk xmlns:ca="client/attribute">
	<!-- Sidebar -->
	<div>
		<image
			src="data:image/png;base64,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" />
	
		<!-- Current User -->
		<listbox
			ca:data-scrollable="false"
			width="320px"
			onSelect='@command("showMessage", pos="end_center")'>
			<Contact
				picture="@load(vm.currentUser.avatar)"
				name="@load(vm.currentUser.name)"
				status="unknown" />
		</listbox>
		<!--  -->
	
		<!-- Menu Groups -->
		<vlayout 
			spacing="0"
			children="@load(vm.menuGroups)">
			
			<template name="children" var="menuGroup">
				<listbox 
					ca:data-scrollable="false"
					width="320px"
					model="${menuGroup.menuItems}"
					onSelect='@command("showMessage", pos="end_center")'>
					<listhead sclass="menu-category">
						<listheader label="${menuGroup.groupName}" />
					</listhead>
					<template name="model">
						<MenuItem
							icon="${each.icon}"
							title="${each.title}"
							count="${each.count}" />
					</template>
				</listbox>
			</template>
			<!--  -->
		</vlayout>
	</div>
	<!--  -->
</zk>